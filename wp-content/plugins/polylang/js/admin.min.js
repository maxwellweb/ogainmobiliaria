jQuery(document).ready(function(b){var a;b("table.languages").on({focusin:function(){clearTimeout(a);focusedRowActions=b(this).find(".row-actions");b(".row-actions").not(this).removeClass("visible");focusedRowActions.addClass("visible")},focusout:function(){a=setTimeout(function(){focusedRowActions.removeClass("visible")},30)}},"tr");b.widget("custom.iconselectmenu",b.ui.selectmenu,{_renderItem:function(e,f){var d=b("<li>",{text:f.label});if(f.value){b("<img>",{src:pll_flag_base_url+f.value+".png","class":"ui-icon"}).appendTo(d)}return d.appendTo(e)}});function c(f,h){var g=b(this).val();if(g){var d=b(this).iconselectmenu("widget").children(":last");var e=b('<img class="ui-icon" >').appendTo(d);e.attr("src",pll_flag_base_url+g+".png")}}b("#flag_list").iconselectmenu({create:c,select:c});b("#lang_list").change(function(){value=b(this).val().split("-");selected=b("select option:selected").text().split(" - ");b("#lang_slug").val(value[0]);b("#lang_locale").val(value[1]);b('input[name="rtl"]').val([value[2]]);b("#lang_name").val(selected[0]);b('#flag_list option[value="'+value[3]+'"]').attr("selected","selected");b("#flag_list").iconselectmenu("destroy").iconselectmenu({create:c,select:c})});b(".translation input").keypress(function(d){if(13===d.keyCode){d.preventDefault();b("#submit").click()}});b("#the-list").on("click",".configure>a",function(){b(".pll-configure").hide().prev().show();b(this).closest("tr").hide().next().show();return false});b("#the-list").on("click",".cancel",function(){b(this).closest("tr").hide().prev().show()});b("#the-list").on("click",".save",function(){var e=b(this).closest("tr");var f=e.attr("id").split("-");var d={action:"pll_save_options",module:f[f.length-1],_pll_nonce:b("#_pll_nonce").val()};d=e.find(":input").serialize()+"&"+b.param(d);b.post(ajaxurl,d,function(g){if(g.success){e.hide().prev().show()}b(".settings-error").remove();b(".nav-tab-wrapper").after(g.data);b(".notice.is-dismissible").each(function(){var j=b(this),i=b('<button type="button" class="notice-dismiss"><span class="screen-reader-text"></span></button>'),h=commonL10n.dismiss||"";i.find(".screen-reader-text").text(h);j.append(i);i.on("click.wp-dismiss-notice",function(k){k.preventDefault();j.fadeTo(100,0,function(){b(this).slideUp(100,function(){b(this).remove()})})})})})});b(".pll-configure").keypress(function(d){if(13===d.keyCode){d.preventDefault();b(this).find(".save").click()}if(27===d.keyCode){d.preventDefault();b(this).find(".cancel").click()}});b("input[name='force_lang']").change(function(){function d(f,g){g?f.show():f.hide()}var e=b(this).val();d(b("#pll-domains-table"),3==e);d(b("#pll-hide-default"),3>e);d(b("#pll-rewrite"),2>e)})});
